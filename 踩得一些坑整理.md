#### 这么多年，踩过的坑不少；记一下吧，毕竟已经忘记了很多了；

- **依赖dubbo接口超时，导致连锁故障：**
  
  A系统通过Dubbo框架依赖B系统，调用下游接口时，超时时间设置了6s。结果下游接口查询数据库时间过长（sql太慢），导致该线程一直无法结束，后面请求的线程又在排队。上游系统就一直在等待，现象是上游接口rt超时严重；
  最恶心的是，A系统与B系统，使用的是同一个库，库的连接数被B系统占完后，A系统无法获取到链接，导致了db查询无法获取连接；
  这个事，有三个点，值得重视：
  - 第一个就是不同的系统之间，数据库最好做到独立部署
  - 第二个是接口的超时时间，一定好合理设置；
  - 第三个是soa服务一定要有接口的降级能力；
